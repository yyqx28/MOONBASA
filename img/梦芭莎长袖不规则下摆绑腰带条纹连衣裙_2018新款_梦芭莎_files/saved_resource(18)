var easyTemplate=function(D,B){if(!D){return""}if(D!==easyTemplate.template){easyTemplate.template=D;easyTemplate.aStatement=easyTemplate.parsing(easyTemplate.separate(D))}var A=easyTemplate.aStatement;var C=function(E){if(E){B=E}return arguments.callee};C.toString=function(){return(new Function(A[0],A[1]))(B)};return C};easyTemplate.separate=function(B){var A=/\\'/g;var C=B.replace(/(<(\/?)#(.*?(?:\(.*?\))*)>)|(')|([\r\n\t])|(\$\{([^\}]*?)\})/g,function(D,E,F,G,H,I,J,K){if(E){return"{|}"+(F?"-":"+")+G+"{|}"}if(H){return"\\'"}if(I){return""}if(J){return"'+("+K.replace(A,"'")+")+'"}});return C};easyTemplate.parsing=function(F){var D,J,I,C,H,G,A,B=["var aRet = [];"];A=F.split(/\{\|\}/);var E=/\s/;while(A.length){I=A.shift();if(!I){continue}H=I.charAt(0);if(H!=="+"&&H!=="-"){I="'"+I+"'";B.push("aRet.push("+I+");");continue}C=I.split(E);switch(C[0]){case"+macro":D=C[1];J=C[2];B.push('aRet.push("<!--'+D+' start-->");');break;case"-macro":B.push('aRet.push("<!--'+D+' end-->");');break;case"+if":C.splice(0,1);B.push("if"+C.join(" ")+"{");break;case"+elseif":C.splice(0,1);B.push("}else if"+C.join(" ")+"{");break;case"-if":B.push("}");break;case"+else":B.push("}else{");break;case"+list":B.push("if("+C[1]+"&&"+C[1]+".constructor === Array){with({i:0,l:"+C[1]+".length,"+C[3]+"_index:0,"+C[3]+":null}){for(i=l;i--;){"+C[3]+"_index=(l-i-1);"+C[3]+"="+C[1]+"["+C[3]+"_index];");break;case"-list":B.push("}}}");break;default:break}}B.push('return aRet.join("");');if(!J){B.unshift("var data = arguments[0];")}return[J,B.join("")]};

